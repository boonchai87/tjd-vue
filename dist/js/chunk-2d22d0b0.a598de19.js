(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22d0b0"],{f68b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.gotoPage("movieEdit")}}},[t._v("เพิ่มรายการ")]),a("table",{staticClass:"table table-bordered"},[t._m(0),a("tbody",t._l(t.rows,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.released_on))]),a("td",[a("input",{staticClass:"btn btn-secondary",attrs:{type:"button",value:"แก้ไข"},on:{click:function(a){return t.edit(e.id)}}}),a("input",{staticClass:"btn btn-danger",attrs:{type:"button",value:"ลบ"},on:{click:function(a){return t.deleteObject(e.id)}}})])])})),0)]),a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination justify-content-center"},[a("li",{staticClass:"page-item"},[1!=t.page?a("a",{staticClass:"page-link",attrs:{tabindex:"-1","aria-disabled":"true"},on:{click:function(e){return t.fetchData(t.page-1)}}},[t._v("Previous")]):t._e()]),t._l(t.pages.slice(t.page-1,t.page+5),(function(e){return[a("li",{key:e,staticClass:"page-item"},[a("a",{staticClass:"page-link",on:{click:function(a){return t.fetchData(e)}}},[t._v(t._s(e))])])]})),t.page<t.pages.length?a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",on:{click:function(e){return t.fetchData(t.page+1)}}},[t._v("Next")])]):t._e()],2)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Name")]),a("th",[t._v("Released On")]),a("th")])])}],i=(a("d3b7"),a("bc3a")),o=a.n(i),c=a("1157"),r=a.n(c),l={name:"movieList",data:function(){return{posts:[],rows:[],page:1,perPage:10,pages:[],numberOfPages:0}},methods:{fetchData:function(t){this.showSpinner(),this.page=t,this.paginate(),this.hideSpinner()},setPages:function(){console.log(" set Page"+this.numberOfPages),this.pages=[];for(var t=1;t<=this.numberOfPages;t++)this.pages.push(t)},paginate:function(){var t=this.page,e=this.perPage,a=this;o.a.get(this.restUrl+"movies",{params:{pageNo:t,pageSize:e}}).then((function(t){console.log(t.data),a.rows=t.data.data.movies,a.numberOfPages=t.data.pages,console.log(t.data.pages),console.log(t.data.data.movies),a.setPages()})).catch((function(t){console.log(t)})).finally((function(){}))},deleteObject:function(t){var e=confirm("delete ?"),a=this;e&&o.a.delete(this.restUrl+"movies/"+t,{}).then((function(t){console.log(t.data),"success"==t.data.status&&alert("delete completed"),a.fetchData(a.page)})).catch((function(t){console.log(t)})).finally((function(){}))},view:function(){this.router.push("view")},edit:function(t){this.$router.push({path:"movieEdit",query:{id:t}})},showSpinner:function(){r()("#sprinner").show()},hideSpinner:function(){r()("#sprinner").hide()}},computed:{},watch:{},created:function(){this.fetchData(1)},filters:{},mounted:function(){}},u=l,p=a("2877"),d=Object(p["a"])(u,n,s,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d22d0b0.a598de19.js.map